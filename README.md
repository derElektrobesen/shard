## Введение

Может работать в двух режимах:

* Режим шардинга
* Режим решардинга

Режим определяется фактом того указал ли пользователь значение функции
`old_key` или нет.

В режиме шардинга запросы перенаправляются на соответствующий шард с
использованием протокола `iproto`.

В режиме решардинга запросы перенаправляются на соответствующий хост
с использованием удаленных вызовов на хост, ответственный за хранение
ключа.

### box.shard.schema.config({ параметр = значение })
                
Конфигурирует шардхост, принимает следующие параметры:

* `list` - список доступов (таблички `{ хост, порт }`) к каждому шарду
* `this` - номер текущего шарда в списке доступов
(либо 0, если данный шард - прокси)
* `key` - функция, которая по space и первичному ключу в нем должна вернуть
номер шарда на котором должна лежать запись, идентифицируемая этим ключем
* `old_key` - в режиме решардинга хранит функцию, определяющую где раньше
могла храниться указанная запись
* `daemon` - булевый флаг, определяющий можно ли автоматически запускать
демон вытеснения (демон запускается автоматически каждый раз
как только переопределяется `key` или `old_key`.
* `daemon_off_period` - интервал задержки перед началом работы демона

### box.shard.select(space, ...)
### box.shard.update(space, ...)
### box.shard.delete(space, ...)
### box.shard.insert(space, ...)
### box.shard.replace(space, ...)


